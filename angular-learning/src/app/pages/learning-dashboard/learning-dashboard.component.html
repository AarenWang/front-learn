<div class="page">
  <header class="hero">
    <div class="hero__content">
      <p class="hero__eyebrow">Angular 20 è¯¾è¿›é˜¶è·¯çº¿</p>
      <h1>å…¨æ ˆå¼ Angular å­¦ä¹ è·¯å¾„</h1>
      <p class="hero__description">
        å°†åŸºç¡€çŸ¥è¯†ä¸é¡¹ç›®å®æˆ˜èåˆï¼Œä»å·¥å…·é“¾ã€æ ¸å¿ƒæœºåˆ¶ã€è¿›é˜¶èƒ½åŠ›åˆ°ç”Ÿäº§éƒ¨ç½²å¾ªåºæ¸è¿›ï¼Œå¸®åŠ©ä½ æ­å»ºå¯å¤åˆ¶çš„å­¦ä¹ ä½“ç³»ã€‚
      </p>
      <div class="hero__metrics">
        <div class="metric">
          <span class="metric__label">è¯¾ç¨‹æ•°é‡</span>
          <span class="metric__value">{{ lessons.length }}</span>
        </div>
        <div class="metric">
          <span class="metric__label">é¢„è®¡å­¦ä¹ æ—¶é•¿</span>
          <span class="metric__value">{{ totalHours }}h</span>
        </div>
        <div class="metric">
          <span class="metric__label">å·²å®Œæˆè¯¾æ—¶</span>
          <span class="metric__value">{{ completedCount() }}</span>
        </div>
        <div class="metric metric--accent">
          <span class="metric__label">æ•´ä½“è¿›åº¦</span>
          <span class="metric__value">{{ completionRate() }}%</span>
        </div>
      </div>
    </div>
    <aside class="hero__panel">
      <h2>å­¦ä¹ æç¤º</h2>
      <ul>
        <li>ğŸ” æ¯ä¸¤èŠ‚åŸºç¡€è¯¾é…åˆä¸€æ¬¡åŠ¨æ‰‹å®è·µï¼Œå½¢æˆâ€œè¾“å…¥ â†’ è¾“å‡º â†’ åé¦ˆâ€çš„é—­ç¯ã€‚</li>
        <li>ğŸ§  ç»“åˆ TypeScript ä¸ RxJS æ€ç»´ï¼ŒæŒç»­ç§¯ç´¯å¯å¤ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</li>
        <li>ğŸš€ åœ¨ S3 é˜¶æ®µå¼€å±•ç«¯åˆ°ç«¯é¡¹ç›®ï¼Œæ¼”ç»ƒéœ€æ±‚æ‹†è§£ã€å·¥ç¨‹åŒ–ä¸éƒ¨ç½²ã€‚</li>
      </ul>
    </aside>
  </header>

  <section class="filters">
    <div class="filters__search">
      <label class="field-label" for="search">æœç´¢è¯¾ç¨‹</label>
      <input
        id="search"
        type="search"
        placeholder="æœç´¢è¯¾ç¨‹ã€æ ‡ç­¾æˆ–å…³é”®å­—"
        [ngModel]="searchTerm()"
        (ngModelChange)="searchTerm.set($event)"
      />
    </div>
    <div class="filters__select">
      <label class="field-label" for="level">å­¦ä¹ é˜¶æ®µ</label>
      <select id="level" [ngModel]="levelFilter()" (ngModelChange)="changeLevel($event)">
        <option *ngFor="let option of levelOptions" [ngValue]="option.value">{{ option.label }}</option>
      </select>
    </div>
    <div class="filters__chips">
      <span class="field-label">æŒ‰ä¸»é¢˜ç­›é€‰</span>
      <div class="chip-list">
        <button
          type="button"
          class="chip"
          [class.chip--active]="selectedTags().length === 0"
          (click)="selectedTags.set([])"
        >
          å…¨éƒ¨
        </button>
        <button
          type="button"
          class="chip"
          *ngFor="let tag of uniqueTags()"
          [class.chip--active]="selectedTags().includes(tag)"
          (click)="toggleTag(tag)"
        >
          {{ tag }}
        </button>
      </div>
    </div>
  </section>

  <section class="sections">
    <article
      class="section-card"
      [class.section-card--active]="sectionFilter() === 'all'"
      (click)="changeSection('all')"
    >
      <h3>å®Œæ•´è·¯çº¿</h3>
      <p>åŒ…å«æ‰€æœ‰é˜¶æ®µï¼Œå…± {{ lessons.length }} è¯¾æ—¶ã€‚</p>
      <div class="section-card__stats">
        <span>{{ completedCount() }} / {{ lessons.length }} å·²å®Œæˆ</span>
        <span>{{ completionRate() }}%</span>
      </div>
    </article>
    <article
      class="section-card"
      *ngFor="let insight of sectionInsights()"
      [class.section-card--active]="sectionFilter() === insight.section.name"
      (click)="changeSection(insight.section.name)"
    >
      <h3>{{ insight.section.name }}</h3>
      <p>{{ insight.section.description }}</p>
      <div class="section-card__stats">
        <span>{{ insight.completed }} / {{ insight.total }} å®Œæˆ</span>
        <span>{{ insight.completionRate }}%</span>
      </div>
      <footer>é¢„è®¡ {{ insight.estimatedHours }} å°æ—¶</footer>
    </article>
  </section>

  <!-- è¯¾ç¨‹å¯¼èˆª -->
  <section class="lesson-navigation">
    <h2>è¯¾ç¨‹å¯¼èˆª</h2>
    <p class="lesson-navigation__hint">é€‰æ‹©è¯¾ç¨‹æŸ¥çœ‹è¯¦ç»†å¤§çº²ä¸é¡¹ç›®å®è·µã€‚</p>
    <div class="lesson-cards">
      <div class="lesson-card"
        *ngFor="let lesson of filteredLessons()"
        [class.lesson-card--active]="selectedLesson().id === lesson.id"
        (click)="selectLesson(lesson)"
      >
        <div class="lesson-card__header">
          <span class="lesson-card__order">S{{ lesson.order }}</span>
          <span class="lesson-card__title">{{ lesson.title }}</span>
        </div>
        <p class="lesson-card__summary">{{ lesson.summary }}</p>
        <div class="lesson-card__meta">
          <span>{{ lesson.section }}</span>
          <span>{{ lesson.estimatedHours }}h</span>
        </div>
        <div class="lesson-card__tags">
          <span class="tag" *ngFor="let tag of lesson.tags">{{ tag }}</span>
        </div>
        <button
          type="button"
          class="lesson-card__action"
          [class.lesson-card__action--done]="isCompleted(lesson.id)"
          (click)="toggleCompletion(lesson); $event.stopPropagation()"
        >
          {{ isCompleted(lesson.id) ? 'å·²å®Œæˆ' : 'æ ‡è®°å®Œæˆ' }}
        </button>
      </div>
    </div>
  </section>

  <!-- è¯¾ç¨‹è¯¦æƒ… -->
  <article class="lesson-detail" *ngIf="selectedLesson() as lesson">
    <header class="lesson-detail__header">
      <div>
        <p class="lesson-detail__section">{{ lesson.section }} Â· {{ levelLabel(lesson.level) }}</p>
        <h2>{{ lesson.title }}</h2>
      </div>
      <button
        type="button"
        class="lesson-detail__complete"
        [class.lesson-detail__complete--done]="isCompleted(lesson.id)"
        (click)="toggleCompletion(lesson)"
      >
        {{ isCompleted(lesson.id) ? 'å·²å®Œæˆ âœ”' : 'å®Œæˆæœ¬è¯¾' }}
      </button>
    </header>

    <!-- è¯¾ç¨‹æ¦‚è§ˆ -->
    <section class="lesson-detail__summary">
      <h3>è¯¾ç¨‹æ¦‚è§ˆ</h3>
      <p>{{ lesson.summary }}</p>
      <div class="lesson-detail__info">
        <span>é¢„è®¡æ—¶é•¿ï¼š{{ lesson.estimatedHours }} å°æ—¶</span>
        <span>å‰ç½®è¦æ±‚ï¼š{{ lesson.prerequisites.join('ã€') }}</span>
      </div>
    </section>

    <!-- æ ¸å¿ƒçŸ¥è¯†ç‚¹ -->
    <section class="lesson-detail__section-block">
      <h3>æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
      <ul class="lesson-detail__list">
        <li *ngFor="let concept of lesson.coreConcepts">{{ concept }}</li>
      </ul>
    </section>

    <!-- é¢„æœŸäº§å‡º -->
    <section class="lesson-detail__section-block">
      <h3>é¢„æœŸäº§å‡º</h3>
      <ul class="lesson-detail__list">
        <li *ngFor="let outcome of lesson.outcomes">
          <strong>{{ outcome.title }}ï¼š</strong>
          <span>{{ outcome.details }}</span>
        </li>
      </ul>
    </section>

    <!-- é¡¹ç›®å®è·µ -->
    <section class="lesson-detail__section-block">
      <h3>é¡¹ç›®å®è·µ</h3>
      <div class="practice" *ngFor="let practice of lesson.projectPractices">
        <h4>{{ practice.title }}</h4>
        <p>{{ practice.description }}</p>
        <ul>
          <li *ngFor="let item of practice.deliverables">{{ item }}</li>
        </ul>
      </div>
    </section>

    <!-- æ‹“å±•èµ„æº -->
    <section class="lesson-detail__section-block">
      <h3>æ‹“å±•èµ„æº</h3>
      <ul class="lesson-detail__list">
        <li *ngFor="let resource of lesson.resources">
          <a [href]="resource.url" target="_blank" rel="noreferrer">{{ resource.label }}</a>
        </li>
      </ul>
    </section>
  </article>

  <!-- ä¸‹ä¸€æ­¥å®è·µå»ºè®® -->
  <aside class="upcoming" *ngIf="upcomingPractices().length > 0">
    <h2>ä¸‹ä¸€æ­¥å®è·µå»ºè®®</h2>
    <div class="upcoming__item" *ngFor="let item of upcomingPractices()">
      <h3>{{ item.lesson.title }}</h3>
      <p class="upcoming__section">{{ item.lesson.section }} Â· {{ item.lesson.estimatedHours }}h</p>
      <p>{{ item.nextPractice!.description }}</p>
    </div>
  </aside>
</div>
